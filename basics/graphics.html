
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>PixiJS: Graphics</title>
    <meta http-equiv="refresh" content="0; url=https://pixijs.com/guides/components/graphics">


  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-103772589-9']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>

    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500&display=swap" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Mono&display=swap" />
    <link type="text/css" rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.3/styles/googlecode.min.css">
    
      <meta name="og:title" content="PixiJS Guides" />
    
      <meta name="og:description" content="The holy guide for PixiJS developers" />
    
      <meta name="og:image" content="https://camo.githubusercontent.com/dd5f0c8ce84c09599ebd30c7a48076b3ca4ef7d1f36aed96c64952d3432942a1/68747470733a2f2f706978696a732e646f776e6c6f61642f706978696a732d62616e6e65722d6e6f2d76657273696f6e2e706e67" />
    
      <meta name="og:site" content="https://pixijs.io/guides/" />
    
      <meta name="viewport" content="width=device-width, initial-scale=1" />
    
    
      <link rel="stylesheet" type="text/css" href="/guides/static/styles.css" />
    
  </head>
  <body class="root">
    <div class="docs tutorials">
      <article class="page">
        <div class="header-content-container">
          <section class="header" id="header-mount-point">
            

<div class="header__wrapper">
  <div class="header__container">
    <section class="explorer__header__title">
      <a href="https://www.pixijs.com" class="pixi-logo">
        PixiJS Guides
      </a>
    </section>
    <div class="header__contents">
      <section class="header__contents-main">
        
          
            <a
              class="header__link header__link--current"
              href="/guides/index.html"
            >
              Guides
            </a>
          
        
          
            <a
              class="header__link "
              href="https://github.com/pixijs/pixijs"
            >
              GitHub
            </a>
          
        
          
            <a
              class="header__link "
              href="https://pixijs.io/examples"
            >
              Examples
            </a>
          
        
          
            <a
              class="header__link "
              href="https://pixijs.io/docs"
            >
              API Docs
            </a>
          
        
          
            <a
              class="header__link "
              href="https://opencollective.com/pixijs"
            >
              Support Us
            </a>
          
        
      </section>
    </div>
  </div>
</div>

          </section>
          <div class="header-content-container__content">
            <div class="page-explorer" id="explorer-mount-point">
                

<div class="explorer-wrapper">
  <h3>Guides</h3>
  
<div class="explorer">
  <ul role="tree" class="explorer__tree explorer__tree-open">
    
      
        

<li class="explorer-tree__target ">
  
  <div>
    <div>
      
      
        <a href="/guides/index.html">
          Welcome
        </a>
      
    </div>
  </div>
  
</li>
      
    
      
        

<li class="explorer-tree__target explorer-tree__parent">
  
    <input type="checkbox" checked="true" />
  
  <div>
    <div>
      
         <svg class="MuiSvgIcon-root" focusable="false" viewBox="0 0 24 24" aria-hidden="true" width="24px" height="24px"><path d="M10 17l5-5-5-5v10z"></path></svg>
      
      
        <section>Basics</section>
      
    </div>
  </div>
  
    <ul role="group">
      <div>
        <div>
          
            
              

<li class="explorer-tree__target ">
  
  <div>
    <div>
      
      
        <a href="/guides/basics/what-pixijs-is.html">
          What PixiJS Is
        </a>
      
    </div>
  </div>
  
</li>
            
          
            
              

<li class="explorer-tree__target ">
  
  <div>
    <div>
      
      
        <a href="/guides/basics/what-pixijs-is-not.html">
          What PixiJS Is Not
        </a>
      
    </div>
  </div>
  
</li>
            
          
            
              

<li class="explorer-tree__target ">
  
  <div>
    <div>
      
      
        <a href="/guides/basics/getting-started.html">
          Getting Started
        </a>
      
    </div>
  </div>
  
</li>
            
          
            
              

<li class="explorer-tree__target ">
  
  <div>
    <div>
      
      
        <a href="/guides/basics/architecture-overview.html">
          Architecture Overview
        </a>
      
    </div>
  </div>
  
</li>
            
          
            
              

<li class="explorer-tree__target ">
  
  <div>
    <div>
      
      
        <a href="/guides/basics/containers.html">
          Containers
        </a>
      
    </div>
  </div>
  
</li>
            
          
            
              

<li class="explorer-tree__target ">
  
  <div>
    <div>
      
      
        <a href="/guides/basics/display-object.html">
          Display Objects
        </a>
      
    </div>
  </div>
  
</li>
            
          
            
              

<li class="explorer-tree__target ">
  
  <div>
    <div>
      
      
        <a href="/guides/basics/textures.html">
          Textures
        </a>
      
    </div>
  </div>
  
</li>
            
          
            
              

<li class="explorer-tree__target ">
  
  <div>
    <div>
      
      
        <a href="/guides/basics/graphics.html">
          Graphics
        </a>
      
    </div>
  </div>
  
</li>
            
          
            
              

<li class="explorer-tree__target ">
  
  <div>
    <div>
      
      
        <a href="/guides/basics/interaction.html">
          Interaction
        </a>
      
    </div>
  </div>
  
</li>
            
          
            
              

<li class="explorer-tree__target ">
  
  <div>
    <div>
      
      
        <a href="/guides/basics/render-loop.html">
          Render Loop
        </a>
      
    </div>
  </div>
  
</li>
            
          
            
              

<li class="explorer-tree__target ">
  
  <div>
    <div>
      
      
        <a href="/guides/basics/scene-graph.html">
          Scene Graph
        </a>
      
    </div>
  </div>
  
</li>
            
          
            
              

<li class="explorer-tree__target ">
  
  <div>
    <div>
      
      
        <a href="/guides/basics/sprites.html">
          Sprites
        </a>
      
    </div>
  </div>
  
</li>
            
          
            
              

<li class="explorer-tree__target ">
  
  <div>
    <div>
      
      
        <a href="/guides/basics/sprite-sheets.html">
          Spritesheets
        </a>
      
    </div>
  </div>
  
</li>
            
          
            
              

<li class="explorer-tree__target ">
  
  <div>
    <div>
      
      
        <a href="/guides/basics/text.html">
          Text
        </a>
      
    </div>
  </div>
  
</li>
            
          
            
              

<li class="explorer-tree__target ">
  
  <div>
    <div>
      
      
        <a href="/guides/basics/assets.html">
          Assets
        </a>
      
    </div>
  </div>
  
</li>
            
          
        </div>
      </div>
    </ul>
  
</li>
      
    
      
        

<li class="explorer-tree__target explorer-tree__parent">
  
    <input type="checkbox" checked="true" />
  
  <div>
    <div>
      
         <svg class="MuiSvgIcon-root" focusable="false" viewBox="0 0 24 24" aria-hidden="true" width="24px" height="24px"><path d="M10 17l5-5-5-5v10z"></path></svg>
      
      
        <section>Production</section>
      
    </div>
  </div>
  
    <ul role="group">
      <div>
        <div>
          
            
              

<li class="explorer-tree__target ">
  
  <div>
    <div>
      
      
        <a href="/guides/production/performance-tips.html">
          Performance Tips
        </a>
      
    </div>
  </div>
  
</li>
            
          
        </div>
      </div>
    </ul>
  
</li>
      
    
  </ul>
</div>
</div>

            </div>
            
<main class="page-content">
  <a class="edit-link" href="https://github.com/pixijs/guides/edit/main/docs/basics/graphics.md">
    Edit Guide
  </a>
  <div class="document">
    
    <h1>PixiJS Guides</h1>
<h2>What is PIXI.Graphics?</h2>
<p><a href=https://pixijs.download/release/docs/PIXI.Graphics.html>Graphics</a> is a complex and much misunderstood tool in the PixiJS toolbox.  At first glance, it looks like a tool for drawing shapes.  And it is!  But it can also be used to generate masks.  How does that work?</p>
<p>In this guide, we're going to de-mystify the Graphics object, starting with how to think about what it does.</p>
<div class="responsive-4-3"><iframe src="https://pixijs.io/examples/?embed=1&showcode=1#/graphics/simple.js"></iframe></div>
<h2>Graphics Is About Building - Not Drawing</h2>
<p>First-time users of the PIXI.Graphics class often struggle with how it works.  Let's look at an example snippet that creates a Graphics object and draws a rectangle:</p>
<pre><code class="hljs language-javascript"><span class="hljs-comment">// Create a Graphics object, set a fill color, draw a rectangle</span>
<span class="hljs-keyword">let</span> obj = <span class="hljs-keyword">new</span> PIXI.Graphics();
obj.beginFill(<span class="hljs-number">0xff0000</span>);
obj.drawRect(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">200</span>, <span class="hljs-number">100</span>);

<span class="hljs-comment">// Add it to the stage to render</span>
app.stage.addChild(obj);
</code></pre>
<p>That code will work - you'll end up with a red rectangle on the screen.  But it's pretty confusing when you start to think about it.  Why am I drawing a rectangle when <em>constructing</em> the object?  Isn't drawing something a one-time action?  How does the rectangle get drawn the <em>second</em> frame?  And it gets even weirder when you create a Graphics object with a bunch of drawThis and drawThat calls, and then you use it as a <em>mask</em>.  What???</p>
<p>The problem is that the function names are centered around <em>drawing</em>, which is an action that puts pixels on the screen.  But in spite of that, the Graphics object is really about <em>building</em>.</p>
<p>Let's look a bit deeper at that <code>drawRect()</code> call.  When you call <code>drawRect()</code>, PixiJS doesn't actually draw anything.  Instead, it stores the rectangle you &quot;drew&quot; into a list of geometry for later use.  If you then add the Graphics object to the scene, the renderer will come along, and ask the Graphics object to render itself.  At that point, your rectangle actually gets drawn - along with any other shapes, lines, etc. that you've added to the geometry list.</p>
<p>Once you understand what's going on, things start to make a lot more sense.  When you use a Graphics object as a mask, for example, the masking system uses that list of graphics primitives in the geometry list to constrain which pixels make it to the screen.  There's no drawing involved.</p>
<p>That's why it helps to think of the Graphics class not as a drawing tool, but as a geometry building tool.</p>
<h2>Types of Primitives</h2>
<p>There are a lot of functions in the PIXI.Graphics class, but as a quick orientation, here's the list of basic primitives you can add:</p>
<ul>
<li>Line</li>
<li>Rect</li>
<li>RoundRect</li>
<li>Circle</li>
<li>Ellipse</li>
<li>Arc</li>
<li>Bezier and Quadratic Curve</li>
</ul>
<p>In addition, the Graphics Extras package (<code>@pixi/graphics-extras</code>) optionally includes the following complex primitives:</p>
<ul>
<li>Torus</li>
<li>Chamfer Rect</li>
<li>Fillet Rect</li>
<li>Regular Polygon</li>
<li>Star</li>
<li>Rounded Polygon</li>
</ul>
<h2>The Geometry List</h2>
<p>Inside every Graphics object is a GraphicsGeometry object.  The <a href="https://pixijs.download/release/docs/PIXI.GraphicsGeometry.html">GraphicsGeometry</a> class manages the list of geometry primitives created by the Graphics parent object.  For the most part, you will not work directly with this object.  The owning Graphics object creates and manages it.  However, there are two related cases where you <em>do</em> work with the list.</p>
<p>First, you can re-use geometry from one Graphics object in another.  No matter whether you're re-drawing the same shape over and over, or re-using it as a mask over and over, it's more efficient to share identical GraphicsGeometry.  You can do this like so:</p>
<pre><code class="hljs language-javascript"><span class="hljs-comment">// Create a master graphics object</span>
<span class="hljs-keyword">let</span> template = <span class="hljs-keyword">new</span> PIXI.Graphics();
<span class="hljs-comment">// Add a circle</span>
template.drawCircle(<span class="hljs-number">100</span>, <span class="hljs-number">100</span>, <span class="hljs-number">50</span>);

<span class="hljs-comment">// Create 5 duplicate objects</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++) {
  <span class="hljs-comment">// Initialize the duplicate using our template&#x27;s pre-built geometry</span>
  <span class="hljs-keyword">let</span> duplicate = <span class="hljs-keyword">new</span> PIXI.Graphics(template.geometry);
}
</code></pre>
<p>This leads to the second time you need to be aware of the underlying GraphicsGeometry object - avoiding memory leaks.  Because Graphics objects can share geometry, you <em>must</em> call <code>destroy()</code> when you no longer need them.  Failure to do so will prevent the GraphicsGeometry object it owns from being properly de-referenced, and will lead to memory leaks.</p>
<h2>Graphics For Display</h2>
<p>OK, so now that we've covered how the PIXI.Graphics class works, let's look at how you use it.  The most obvious use of a Graphics object is to draw dynamically generated shapes to the screen.</p>
<p>Doing so is simple.  Create the object, call the various builder functions to add your custom primitives, then add the object to the scene graph.  Each frame, the renderer will come along, ask the Graphics object to render itself, and each primitive, with associated line and fill styles, will be drawn to the screen.</p>
<h2>Graphics as a Mask</h2>
<p>You can also use a Graphics object as a complex mask.  To do so, build your object and primitives as usual.  Next create a PIXI.Container object that will contain the masked content, and set its <code>mask</code> property to your Graphics object.  The children of the container will now be clipped to only show through inside the geometry you've created.  This technique works for both WebGL and Canvas-based rendering.</p>
<div class="responsive-4-3"><iframe src="https://pixijs.io/examples/?embed=1&showcode=1#/masks/graphics.js"></iframe></div>
<h2>Caveats and Gotchas</h2>
<p>The Graphics class is a complex beast, and so there are a number of things to be aware of when using it.</p>
<p><strong>Memory Leaks</strong>: The first has already been mentioned - call <code>destroy()</code> on any Graphics object you no longer need to avoid memory leaks.</p>
<p><strong>Holes</strong>: Holes you create have to be completely contained in the shape or else it may not be able to triangulate correctly. <!--TODO: primitive shapes not working on canvas?--></p>
<p><strong>Changing Geometry</strong>: If you want to change the shape of a Graphics object, you don't need to delete and recreate it.  Instead you can use the <code>clear()</code> function to reset the contents of the geometry list, then add new primitives as desired.  Be careful of performance when doing this every frame.</p>
<p><strong>Performance</strong>: Graphics objects are generally quite performant.  However, if you build highly complex geometry, you may pass the threshold that permits batching during rendering, which can negatively impact performance. It's better for batching to use many Graphics objects instead of a single Graphics with many shapes.</p>
<p><strong>Transparency</strong>: Because the Graphics object renders its primitives sequentially, be careful when using blend modes or partial transparency with overlapping geometry.  Blend modes like <code>ADD</code> and <code>MULTIPLY</code> will work <em>on each primitive</em>, not on the final composite image.  Similarly, partially transparent Graphics objects will show primitives overlapping. To apply transparency or blend modes to a single flattened surface, consider using AlphaFilter or RenderTexture.</p>
<!--## Baking Into Texture

TODO: Advantages vs disadvantages of pre-rendering to a texture, using render texture: https://jsfiddle.net/bigtimebuddy/6tzyv91j/-->

  </div>
  
    <div class="serial-navigation both">
      
        <a class="serial-navigation-button previous" href="/guides/basics/textures.html">
          <svg
            class="arrow"
            version="1.1" xmlns="http://www.w3.org/2000/svg"
            xmlns:xlink="http://www.w3.org/1999/xlink"
            x="0px"
            y="0px"
            width="27px"
            height="14px"
            viewBox="0 0 23 14"
            xml:space="preserve"
          >
            <line x1="0" y1="7" x2="6" y2="1" />
            <line x1="0" y1="7" x2="6" y2="13" />
            <line x1="0" y1="7" x2="23" y2="7" />
          </svg>
          <span class="label">Previous Guide</span>
          <span class="title">Textures</span>
        </a>
      
      
        <hr />
      
      
        <a class="serial-navigation-button next" href="/guides/basics/interaction.html">
          <svg
            class="arrow"
            version="1.1" xmlns="http://www.w3.org/2000/svg"
            xmlns:xlink="http://www.w3.org/1999/xlink"
            x="0px"
            y="0px"
            width="27px"
            height="14px"
            viewBox="0 0 23 14"
            xml:space="preserve"
          >
            <line x1="22" y1="7" x2="16" y2="1" />
            <line x1="22" y1="7" x2="16" y2="13" />
            <line x1="0" y1="7" x2="23" y2="7" />
          </svg>
          <span class="label">Next Guide</span>
          <span class="title">Interaction</span>
        </a>
      
    </div>
  
  


  <footer class="footer" id="footer-mount-point"></footer>

</main>
          </div>
          <div class="bottom-banner">
              <div class="bottom-banner-content">
  <div class="authors">
    <a href="https://www.pixijs.com" target="_blank" class="pixi-logo">
      PixiJS Logo
    </a>
    <section>
      &copy; 2023 PixiJS. All Rights Reserved.
    </section>
    <section>
      A labor of love by Rob Morris <a href="https://github.com/irongaze">@irongaze</a>,
      Shukant Pal <a href="https://twitter.com/shukantp">@ShukantP</a> and the
      <a href="https://github.com/orgs/pixijs/people">PixiJS team</a>.
    </section>
  </div>
</div>

          </div>
        </div>
      </article>
    </body>
  </div>
  
    <script src="/guides/static/main.js"></script>
  
</html>
